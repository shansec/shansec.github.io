<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    

    <title>从Vue2 到 Vue3，这些路由差异你需要掌握！ | 未来可期的博客</title>
    <meta property="og:title" content="从Vue2 到 Vue3，这些路由差异你需要掌握！ - 未来可期的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2023-03-22T10:37:34&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2023-03-22T10:37:34&#43;08:00'>
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,未来可期,博客,公众号,小程序">
    <meta name="description" content="从Vue2 到 Vue3，这些路由差异你需要掌握！">
        
    <meta name="author" content="未来可期">
    <meta property="og:url" content="http://shansec.github.io/post/blog/%E4%BB%8EVue2-%E5%88%B0-Vue3%E8%BF%99%E4%BA%9B%E8%B7%AF%E7%94%B1%E5%B7%AE%E5%BC%82%E4%BD%A0%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
        <link rel="stylesheet" href='/css/douban.css'>
    
        <link rel="stylesheet" href='/css/other.css'>
    
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="http://shansec.github.io">
                        未来可期的博客
                    </a>
                
                <p class="description">专注于Go语言(golang)、前端技术</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="http://shansec.github.io">Home</a>
                    
                    <a  href="http://shansec.github.io/archives/" title="归档">归档</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -210px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">Table of Contents</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#全局前置守卫">全局前置守卫</a></li>
    <li><a href="#全局解析守卫">全局解析守卫</a></li>
    <li><a href="#全局后置钩子">全局后置钩子</a></li>
  </ul>

  <ul>
    <li><a href="#布尔模式">布尔模式</a></li>
    <li><a href="#命名视图">命名视图</a></li>
    <li><a href="#对象模式">对象模式</a></li>
    <li><a href="#函数模式">函数模式</a></li>
  </ul>

  <ul>
    <li><a href="#滚动到固定距离">滚动到固定距离</a></li>
    <li><a href="#滚动到元素位置">滚动到元素位置</a></li>
    <li><a href="#滚动到锚点位置">滚动到锚点位置</a></li>
    <li><a href="#滚动到之前的位置">滚动到之前的位置</a></li>
    <li><a href="#延迟滚动">延迟滚动</a></li>
  </ul>

  <ul>
    <li><a href="#基本用法">基本用法</a></li>
    <li><a href="#单个路由的过渡">单个路由的过渡</a></li>
    <li><a href="#复用的组件之间进行过渡">复用的组件之间进行过渡</a></li>
  </ul>

  <ul>
    <li><a href="#添加路由">添加路由</a></li>
    <li><a href="#删除路由">删除路由</a></li>
    <li><a href="#添加嵌套路由">添加嵌套路由</a></li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if (leftPos < 220) {
                postToc.css({ "width": leftPos - 10, "margin-left": (0 - leftPos) })
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }

        if ($("#TableOfContents").children().length < 1) {
            $(".post-toc").remove();
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">从Vue2 到 Vue3，这些路由差异你需要掌握！</h1>
        </header>
        
  <time datetime="2023-03-22T10:37:34Z" class="post-meta meta-date dt-published">
    2023-03-22
  </time>


<div class="post-meta meta-category">
  <span>&nbsp;|</span>
  
    <a href='/categories/%E5%89%8D%E7%AB%AF' target="_blank">前端</a>
  
</div>


        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">&nbsp;|
                <span id="busuanzi_value_page_pv"></span> <span>reads</span>
            </span>
        </div>
        
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<blockquote>
<p><code>Vue3</code> 已经出来很长时间了，但对 <code>Vue3</code> 的路由却了解的非常少，甚至只知道最基本的跳转和参数获取，这些技能处理一些复杂的功能是不够的，最近把 <code>Vue3</code> 的路由版本差异给学习了一下，在这里把结果分享给大家！！！</p>
</blockquote>
<h1 id="一导航守卫">一、导航守卫</h1>
<h2 id="全局前置守卫">全局前置守卫</h2>
<p>全局前置守卫通常用来做权限控制，使用 <code>router.beforeEach</code> 即可添加：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({...})
</span></span><span style="display:flex;"><span>router.beforeEach((to, <span style="color:#000;font-weight:bold">from</span>) <span style="color:#000;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// 返回 false 取消导航
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>每个守卫方法接收两个参数：</p>
<ul>
<li><code>to</code>:：即将进入的目标路由</li>
<li><code>from</code>：当前正要离开的路由
返回值可以是以下值：</li>
<li><code>false</code>：取消当前导航</li>
<li><code>true | undefined</code>：调用下一个守卫</li>
<li>一个路由地址：字符串或对象。表示中断当前导航，进行下一个新的导航</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.beforeEach(<span style="color:#000;font-weight:bold">async</span>(to, <span style="color:#000;font-weight:bold">from</span>) <span style="color:#000;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// 检查用户是否已经登录
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">if</span> (<span style="color:#000;font-weight:bold">!</span>isAuthenticated  <span style="color:#000;font-weight:bold">&amp;&amp;</span> to.name <span style="color:#000;font-weight:bold">!==</span> <span style="color:#d14">&#39;Login) {
</span></span></span><span style="display:flex;"><span><span style="color:#d14">		return { name: &#39;</span>Login<span style="color:#a61717;background-color:#e3d2d2">&#39;</span> }
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>注意：在全局前置守卫中，要确保 <code>next</code> 在导航守卫中只被调用一次。</p>
<h2 id="全局解析守卫">全局解析守卫</h2>
<p><code>router.beforeResolve</code> 用法和 <code>router.beforeEach</code> 类似。它是在导航被确认之前，所有组件内守卫和异步路由组件被解析之后被调用。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.beforeResolve(<span style="color:#000;font-weight:bold">async</span> to <span style="color:#000;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span> (to.meta.requiresCamera) {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">await</span> askForCameraPermission()
</span></span><span style="display:flex;"><span>    } <span style="color:#000;font-weight:bold">catch</span> (error) {
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">if</span> (error <span style="color:#000;font-weight:bold">instanceof</span> NotAllowedError) {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 处理错误，然后取消导航
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>      } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 取消导航并把错误传给全局处理器
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">throw</span> error
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>上面这个例子，是为了确保用户可以访问自定义 meta 属性。</p>
<h2 id="全局后置钩子">全局后置钩子</h2>
<p><code>router.afterEach</code> 和守卫不通，全局后置钩子不接受 <code>next</code> 函数，也不能跳转到其他的路由地址。但是它对于访问分析、更改页面标题、生命页面等辅助功能很有帮助。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.afterEach((to, <span style="color:#000;font-weight:bold">from</span>) <span style="color:#000;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span>	sendTo(to.fullPath)
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h1 id="二路由模式">二、路由模式</h1>
<p>Vue3 中不再使用 <code>new Router()</code> 创建 router，而是调用 <code>createRouter</code> 方法：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { createRouter } <span style="color:#000;font-weight:bold">from</span> <span style="color:#d14">&#39;vue-router&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>})
</span></span></code></pre></div><p>路由模式 <code>mode</code> 配置为 <code>history</code>，属性值调整为：</p>
<ul>
<li>&lsquo;history&rsquo;  		 =&gt;  <code>createWebHistory()</code></li>
<li>
<ul>
<li>&lsquo;hash&rsquo;   		=&gt;  <code>createWebHashHistory()</code></li>
</ul>
</li>
<li>
<ul>
<li>&lsquo;abstract&rsquo;   	=&gt;  <code>createMemoryHistory()</code></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { createRouter, createWebHistory } <span style="color:#000;font-weight:bold">from</span> <span style="color:#d14">&#39;vue-router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// createWebHashHistory 和 createMemoryHistory (SSR相关) 同理
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>createRouter({
</span></span><span style="display:flex;"><span>  history: <span style="color:#458;font-weight:bold">createWebHistory</span>(),
</span></span><span style="display:flex;"><span>  routes<span style="color:#000;font-weight:bold">:</span> []
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>基础路径 <code>base</code> 被作为 <code>createWebHistory</code> 的第一个参数进行传递（其他路由模式也是一样）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { createRouter, createWebHistory } <span style="color:#000;font-weight:bold">from</span> <span style="color:#d14">&#39;vue-router&#39;</span>
</span></span><span style="display:flex;"><span>createRouter({
</span></span><span style="display:flex;"><span>  history: <span style="color:#458;font-weight:bold">createWebHistory</span>(<span style="color:#d14">&#39;/base-url/&#39;</span>),
</span></span><span style="display:flex;"><span>  routes<span style="color:#000;font-weight:bold">:</span> []
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h1 id="三路由组件传参">三、路由组件传参</h1>
<p>当我们获取路由参数时，通常在模板中使用 <code>$route</code>，在逻辑中调用 <code>useRoute()</code> 方法，如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#000080">div</span>&gt;User {{ $route.params.id }}&lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span> <span style="color:#008080">setup</span> <span style="color:#008080">lang</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;ts&#34;</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> { useRoute } from <span style="color:#d14">&#39;vue-router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> route <span style="color:#000;font-weight:bold">=</span> useRoute()
</span></span><span style="display:flex;"><span>console.log(route.params.id)
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></div><p>以上方法比较麻烦，而且与路由紧密耦合，不利于组件封装。我们可以在创建路由时通过 <code>props</code> 配置来解除这种行为：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/user/:id&#39;</span>,
</span></span><span style="display:flex;"><span>    name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;user&#39;</span>,
</span></span><span style="display:flex;"><span>    component: <span style="color:#458;font-weight:bold">User</span>,
</span></span><span style="display:flex;"><span>    props: <span style="color:#458;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>此时 <code>route.params</code> 将直接被设置为组件的 <code>props</code>，这样组件就和路由参数解耦了：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#000080">div</span>&gt;User {{ id }}&lt;/<span style="color:#000080">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">script</span> <span style="color:#008080">setup</span> <span style="color:#008080">lang</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;ts&#34;</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> props <span style="color:#000;font-weight:bold">=</span> defineProps<span style="color:#000;font-weight:bold">&lt;</span>{
</span></span><span style="display:flex;"><span>  id<span style="color:#000;font-weight:bold">:</span> string
</span></span><span style="display:flex;"><span>}<span style="color:#000;font-weight:bold">&gt;</span>()
</span></span><span style="display:flex;"><span>console.log(props.id)
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">script</span>&gt;
</span></span></code></pre></div><h2 id="布尔模式">布尔模式</h2>
<p>当 <code>props</code> 设置为 <code>true</code> 时，<code>route.params</code> 将被设置为组件的 <code>props</code>。</p>
<h2 id="命名视图">命名视图</h2>
<p>对于有命名视图的路由，你必须为每个命名视图定义 <code>props</code> 配置：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/user/:id&#39;</span>,
</span></span><span style="display:flex;"><span>    components<span style="color:#000;font-weight:bold">:</span> { <span style="color:#000;font-weight:bold">default</span><span style="color:#000;font-weight:bold">:</span> User, sidebar: <span style="color:#458;font-weight:bold">Sidebar</span> },
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> { <span style="color:#000;font-weight:bold">default</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>, sidebar: <span style="color:#458;font-weight:bold">false</span> }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h2 id="对象模式">对象模式</h2>
<p>当 <code>props</code> 是一个对象时，它会将此对象设置为组件 <code>props</code> 。当 <code>props</code> 是静态的时候很有用。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/user&#39;</span>,
</span></span><span style="display:flex;"><span>    component: <span style="color:#458;font-weight:bold">User</span>,
</span></span><span style="display:flex;"><span>    props<span style="color:#000;font-weight:bold">:</span> { newsletterPopup: <span style="color:#458;font-weight:bold">false</span> }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h2 id="函数模式">函数模式</h2>
<p>我们也可以创建一个返回 <code>props</code> 的函数。这允许你将参数转换为其他类型：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/user&#39;</span>,
</span></span><span style="display:flex;"><span>    component: <span style="color:#458;font-weight:bold">User</span>,
</span></span><span style="display:flex;"><span>    props: <span style="color:#458;font-weight:bold">route</span> <span style="color:#000;font-weight:bold">=&gt;</span> ({ id: <span style="color:#458;font-weight:bold">route.query.id</span> })
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>如 <code>/user?id=123</code> 参数会被转为 <code>{ id: '123' }</code> 作为 <code>props</code> 传给组件。</p>
<h1 id="四滚动行为">四、滚动行为</h1>
<p>我们可以通过 <code>vue-router</code> 自定义路由切换时页面如何滚动。比如，当跳转到新路由时，页面滚动到某个位置；切换路由时页面回到之前的滚动位置。
当创建路由实例时，我们只需要提供一个 <code>scrollBehavior</code> 方法：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({
</span></span><span style="display:flex;"><span>  history: <span style="color:#458;font-weight:bold">createWebHashHistory</span>(),
</span></span><span style="display:flex;"><span>  routes<span style="color:#000;font-weight:bold">:</span> [...],
</span></span><span style="display:flex;"><span>  scrollBehavior (to, <span style="color:#000;font-weight:bold">from</span>, savedPosition) {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// return 期望滚动到哪个的位置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p><code>scrollBehavior</code> 函数接收 <code>to</code> 和 <code>from</code> 路由对象。第三个参数 <code>savedPosition</code>，只有当这是一个 <code>popstate</code> 导航时才可用（点击浏览器的后退/前进按钮，或者调用 <code>router.go()</code> 方法）</p>
<h2 id="滚动到固定距离">滚动到固定距离</h2>
<p>该函数可以返回一个 <code>ScrollToOptions</code> 位置对象：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({
</span></span><span style="display:flex;"><span>  scrollBehavior(to, <span style="color:#000;font-weight:bold">from</span>, savedPosition) {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 始终滚动到顶部
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">return</span> { top: <span style="color:#458;font-weight:bold">0</span> }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h2 id="滚动到元素位置">滚动到元素位置</h2>
<p>可以通过 <code>el</code> 传递一个 <code>CSS</code> 选择器或一个 <code>DOM</code> 元素。在这种情况下，<code>top</code> 和 <code>left</code> 将被视为该元素的相对偏移量。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({
</span></span><span style="display:flex;"><span>  scrollBehavior(to, <span style="color:#000;font-weight:bold">from</span>, savedPosition) {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 始终在元素 #main 上方滚动 10px
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic">// el: document.getElementById(&#39;main&#39;),
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      el<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;#main&#39;</span>,
</span></span><span style="display:flex;"><span>      top<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">10</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h2 id="滚动到锚点位置">滚动到锚点位置</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({
</span></span><span style="display:flex;"><span>  scrollBehavior(to, <span style="color:#000;font-weight:bold">from</span>, savedPosition) {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> (to.hash) {
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>        el: <span style="color:#458;font-weight:bold">to.hash</span>,
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h2 id="滚动到之前的位置">滚动到之前的位置</h2>
<p>在按下浏览器 <code>后退/前进</code> 按钮，或者调用 <code>router.go()</code> 方法时，页面会回到之前的滚动位置：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({
</span></span><span style="display:flex;"><span>  scrollBehavior(to, <span style="color:#000;font-weight:bold">from</span>, savedPosition) {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> (savedPosition) {
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">return</span> savedPosition
</span></span><span style="display:flex;"><span>    } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">return</span> { top: <span style="color:#458;font-weight:bold">0</span> }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>注意：如果返回一个 <code>false</code> 的值，或者是一个<code>空对象</code>，则不会发生滚动。我们还可以在返回的对象中添加 <code>behavior: 'smooth'</code> ，让滚动更加丝滑。</p>
<h2 id="延迟滚动">延迟滚动</h2>
<p>有时候我们不希望立即执行滚动行为。例如当页面做了过渡动效，我们希望过渡结束后再执行滚动。要做到这一点，我们可以返回一个 <code>Promise</code>：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> router <span style="color:#000;font-weight:bold">=</span> createRouter({
</span></span><span style="display:flex;"><span>  scrollBehavior(to, <span style="color:#000;font-weight:bold">from</span>, savedPosition) {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Promise((resolve, reject) <span style="color:#000;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span>      setTimeout(() <span style="color:#000;font-weight:bold">=&gt;</span> {
</span></span><span style="display:flex;"><span>        resolve({ left: <span style="color:#458;font-weight:bold">0</span>, top: <span style="color:#458;font-weight:bold">0</span> })
</span></span><span style="display:flex;"><span>      }, <span style="color:#099">500</span>)
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h1 id="五过渡动效">五、过渡动效</h1>
<h2 id="基本用法">基本用法</h2>
<p>如果想要在路由组件上使用转场，对导航进行动画处理，我可以使用 <code>v-slot</code> 结合 <code>Animete.css</code> 来实现：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">RouterView</span> <span style="color:#008080">v-slot</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ Component }&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#000080">transition</span> <span style="color:#008080">enter-active-class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;animate__animated animate__fadeIn&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">component</span> <span style="color:#008080">:is</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;Component&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#000080">transition</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">RouterView</span>&gt;
</span></span></code></pre></div><h2 id="单个路由的过渡">单个路由的过渡</h2>
<p>上面的用法会对所有的路由使用相同的过渡。如果你想让每个路由的组件有不同的过渡，可以将 <code>元信息</code> 和动态的 <code>enter-active-class</code> 结合在一起，放在 <code>&lt;transition&gt;</code> 上：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>// js
</span></span><span style="display:flex;"><span>const routes = [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    path: &#39;/home&#39;,
</span></span><span style="display:flex;"><span>    component: Home,
</span></span><span style="display:flex;"><span>    meta: { transition: &#39;animate__fadeIn&#39; },
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    path: &#39;/user&#39;,
</span></span><span style="display:flex;"><span>    component: User,
</span></span><span style="display:flex;"><span>    meta: { transition: &#39;animate__bounceIn&#39; },
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>// vue
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">RouterView</span> <span style="color:#008080">v-slot</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ Component }&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#000080">transition</span> <span style="color:#008080">:enter-active-class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;`animate__animated ${$route.meta.transition}`&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">component</span> <span style="color:#008080">:is</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;Component&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#000080">transition</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">RouterView</span>&gt;
</span></span></code></pre></div><h2 id="复用的组件之间进行过渡">复用的组件之间进行过渡</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> routes <span style="color:#000;font-weight:bold">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/user/:id&#39;</span>,
</span></span><span style="display:flex;"><span>    component: <span style="color:#458;font-weight:bold">User</span>,
</span></span><span style="display:flex;"><span>    meta<span style="color:#000;font-weight:bold">:</span> { transition<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;animate__bounceIn&#39;</span> },
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>定义以上路由，当从 <code>/user/123</code> 切换到 <code>/user/456</code> 时是没有任何过渡效果的。这时候我们可以添加一个 <code>key</code> 属性来强制进行过渡，<code>key</code> 值只要不同就行了。说白了就是让 <code>Dom</code> 不要被复用，和 <code>v-for</code> 的 <code>key</code> 属性原理刚好相反。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#000080">router-view</span> <span style="color:#008080">v-slot</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;{ Component, route }&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#000080">transition</span> <span style="color:#008080">:enter-active-class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;`animate__animated ${$route.meta.transition}`&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#000080">component</span> <span style="color:#008080">:is</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;Component&#34;</span> <span style="color:#008080">:key</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;route.path&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#000080">transition</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#000080">router-view</span>&gt;
</span></span></code></pre></div><h1 id="六动态路由">六、动态路由</h1>
<h2 id="添加路由">添加路由</h2>
<p>当我们做用户权限的时候，添加路由非常有用。可以使用 <code>router.addRoute()</code> 来添加一个路由：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.addRoute({ path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/about&#39;</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;about&#39;</span>, component: <span style="color:#458;font-weight:bold">About</span> })
</span></span></code></pre></div><p>注意：跟之前版本不同的是，路由只能一个一个添加，不能批量添加。</p>
<h2 id="删除路由">删除路由</h2>
<p>以下几个方法都可以删除路由：</p>
<ol>
<li>通过使用 <code>router.removeRoute()</code> 按名称删除路由：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.addRoute({ path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/about&#39;</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;about&#39;</span>, component: <span style="color:#458;font-weight:bold">About</span> })
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 删除路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>router.removeRoute(<span style="color:#d14">&#39;about&#39;</span>)
</span></span></code></pre></div><ol start="2">
<li>通过添加一个名称相同的路由，替换掉之前的路由：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.addRoute({ path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/about&#39;</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;about&#39;</span>, component: <span style="color:#458;font-weight:bold">About</span> })
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 这将会删除之前已经添加的路由，因为他们具有相同的名字且名字必须是唯一的
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>router.addRoute({ path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/other&#39;</span>, name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;about&#39;</span>, component: <span style="color:#458;font-weight:bold">Other</span> })
</span></span></code></pre></div><ol start="3">
<li>通过调用 <code>router.addRoute()</code> 返回的回调函数：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> removeRoute <span style="color:#000;font-weight:bold">=</span> router.addRoute(routeRecord)
</span></span><span style="display:flex;"><span>removeRoute() <span style="color:#998;font-style:italic">// 删除路由如果存在的话
</span></span></span></code></pre></div><p>当路由没有名称时，这种方法非常有用。</p>
<h2 id="添加嵌套路由">添加嵌套路由</h2>
<p>要将嵌套路由添加到现有的路由中，可以将路由的 <code>name</code> 作为第一个参数传递给 <code>router.addRoute()</code> ，这和通过 <code>children</code> 添加的效果一样：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.addRoute({ name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;admin&#39;</span>, path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/admin&#39;</span>, component: <span style="color:#458;font-weight:bold">Admin</span> })
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 添加嵌套路由
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>router.addRoute(<span style="color:#d14">&#39;admin&#39;</span>, { path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;settings&#39;</span>, component: <span style="color:#458;font-weight:bold">AdminSettings</span> })
</span></span></code></pre></div><p>相当于：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>router.addRoute({
</span></span><span style="display:flex;"><span>  name<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;admin&#39;</span>,
</span></span><span style="display:flex;"><span>  path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;/admin&#39;</span>,
</span></span><span style="display:flex;"><span>  component: <span style="color:#458;font-weight:bold">Admin</span>,
</span></span><span style="display:flex;"><span>  children<span style="color:#000;font-weight:bold">:</span> [{ path<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;settings&#39;</span>, component: <span style="color:#458;font-weight:bold">AdminSettings</span> }]
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h1 id="结论">结论</h1>
<p>本片文章大部分来自官网，也有一些来自自己的实践心得。希望对你的开发工作有所帮助。当然这并不是 Vue-Router4 的所有内容，比如还有路由匹配、重定向和别名等等，大家可以自行在官网查看。如果今天的分享对你有所帮助。</p>

        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>Author: </strong><a rel="author" href="http://shansec.github.io">未来可期</a></li>
        <li style="word-break:break-all"><strong>Link: </strong><a href="http://shansec.github.io/post/blog/%E4%BB%8EVue2-%E5%88%B0-Vue3%E8%BF%99%E4%BA%9B%E8%B7%AF%E7%94%B1%E5%B7%AE%E5%BC%82%E4%BD%A0%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1/">http://shansec.github.io/post/blog/%E4%BB%8EVue2-%E5%88%B0-Vue3%E8%BF%99%E4%BA%9B%E8%B7%AF%E7%94%B1%E5%B7%AE%E5%BC%82%E4%BD%A0%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1/</a></li>
        <li><strong>License: </strong>This work is under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>. Kindly fulfill the requirements of the aforementioned License when adapting or creating a derivative of this work.</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/post/blog/package-json%E9%85%8D%E7%BD%AE%E8%A7%A3%E8%AF%BB/">package.json配置解读</a></li>
        
        <li><a href="/post/blog/%E5%A6%82%E4%BD%95%E4%B8%BA-Vue3-%E7%BB%84%E4%BB%B6%E6%A0%87%E6%B3%A8-TS-%E7%B1%BB%E5%9E%8B%E7%9C%8B%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%E5%B0%B1%E5%A4%9F%E4%BA%86/">何为 Vue3 组件标注 TS 类型，看这篇文章就够了！</a></li>
        
        <li><a href="/post/blog/%E5%8A%A9%E4%BD%A0%E4%BB%8EVue2%E8%BF%87%E6%B8%A1%E5%88%B0Vue3%E7%9A%84%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/">助你从Vue2过渡到Vue3的常见使用场景</a></li>
        
        <li><a href="/post/blog/Vue3%E4%B8%AD%E6%93%8D%E4%BD%9Cdom%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%BB%BA%E8%AE%AE%E6%94%B6%E8%97%8F/">Vue3中操作dom的四种方式，建议收藏！！！</a></li>
        
        <li><a href="/post/blog/Vue-%E9%A1%B9%E7%9B%AE%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E8%8F%9C%E5%8D%95%E6%90%9C%E7%B4%A2%E6%A1%86/">Vue 项目如何实现一个全局菜单搜索框</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/tags/vue' target="_blank">vue</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "your github repo"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
    
    

</div>

                    <footer id="footer">
    <div>
        &copy; 2024 <a href="http://shansec.github.io">未来可期的博客 By 未来可期</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>
<style type="text/css">
div.highlight {
    position: relative;
    margin: 1em 0px;
}

.copy-code {
    display: none;
    position: absolute;
    top: 4px;
    right: 4px;
    color: rgba(255, 255, 255, 0.8);
    background: rgba(78, 78, 78, 0.8);
    border-radius: var(--radius);
    padding: 0 5px;
    font: inherit;
    user-select: none;
    cursor: pointer;
    border: 0;
    --radius: 8px;
}

div.highlight:hover .copy-code,pre:hover .copy-code {
    display: block;
}

</style>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>


    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




    <script src='/js/douban.js'></script>

                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='http://shansec.github.io/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://shansec.github.io">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>

    <section class="widget">
        <h3 class="widget-title">Latest articles</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://shansec.github.io/post/ts/Typescript-interface/" title="Typescript Interface" target="_blank">Typescript Interface</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/ts/typescript-%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B/" title="Typescript 函数类型" target="_blank">Typescript 函数类型</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/ts/typescript-%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B/" title="Typescript 对象类型" target="_blank">Typescript 对象类型</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/ts/typescript-%E5%85%83%E7%BB%84%E7%B1%BB%E5%9E%8B/" title="Typescript 数组类型" target="_blank">Typescript 数组类型</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/ts/typescript-%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B/" title="Typescript 数组类型" target="_blank">Typescript 数组类型</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/ts/typescript-%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F/" title="Typescript 类型系统" target="_blank">Typescript 类型系统</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/ts/typescript-any%E7%B1%BB%E5%9E%8B%E5%92%8Cunknown%E7%B1%BB%E5%9E%8B%E5%92%8Cnever%E7%B1%BB%E5%9E%8B/" title="Typescript Any类型和unknown类型和never类型" target="_blank">Typescript Any类型和unknown类型和never类型</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/ts/typescript-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" title="Typescript 基本用法" target="_blank">Typescript 基本用法</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/es6/%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E6%89%A9%E5%B1%95/" title="运算符的扩展" target="_blank">运算符的扩展</a>
    </li>
    
    <li>
        <a href="http://shansec.github.io/post/es6/%E8%A3%85%E9%A5%B0%E5%99%A8/" title="装饰器" target="_blank">装饰器</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>Categories</a></h3>
<ul class="widget-list">
    
    <li><a href="http://shansec.github.io/categories/go/">go (43)</a></li>
    
    <li><a href="http://shansec.github.io/categories/%E5%89%8D%E7%AB%AF/">前端 (60)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>Tags</a></h3>
<div class="tagcloud">
    
    <a href="http://shansec.github.io/tags/CSS/">CSS</a>
    
    <a href="http://shansec.github.io/tags/HTTP/">HTTP</a>
    
    <a href="http://shansec.github.io/tags/javaScript/">javaScript</a>
    
    <a href="http://shansec.github.io/tags/CSS/">CSS</a>
    
    <a href="http://shansec.github.io/tags/docker/">docker</a>
    
    <a href="http://shansec.github.io/tags/es6/">es6</a>
    
    <a href="http://shansec.github.io/tags/go/">go</a>
    
    <a href="http://shansec.github.io/tags/go-%E5%9F%BA%E7%A1%80/">go 基础</a>
    
    <a href="http://shansec.github.io/tags/go-%E6%A0%87%E5%87%86%E5%BA%93/">go 标准库</a>
    
    <a href="http://shansec.github.io/tags/javaScript/">javaScript</a>
    
    <a href="http://shansec.github.io/tags/jwt/">jwt</a>
    
    <a href="http://shansec.github.io/tags/package/">package</a>
    
    <a href="http://shansec.github.io/tags/pinia/">pinia</a>
    
    <a href="http://shansec.github.io/tags/redis/">redis</a>
    
    <a href="http://shansec.github.io/tags/sql/">sql</a>
    
    <a href="http://shansec.github.io/tags/sqlx/">sqlx</a>
    
    <a href="http://shansec.github.io/tags/typescript/">typescript</a>
    
    <a href="http://shansec.github.io/tags/vue/">vue</a>
    
    <a href="http://shansec.github.io/tags/%E5%AD%98%E5%82%A8/">存储</a>
    
    <a href="http://shansec.github.io/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a>
    
    <a href="http://shansec.github.io/tags/%E6%A0%87%E5%87%86%E5%BA%93/">标准库</a>
    
    <a href="http://shansec.github.io/tags/%E6%A1%86%E6%9E%B6/">框架</a>
    
    <a href="http://shansec.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/">计算机原理</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">Links</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://www.liwenzhou.com/" title="李文周的博客">李文周的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">Meta</h3>
        <ul class="widget-list">
            <li><a href="http://shansec.github.io/index.xml">RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>